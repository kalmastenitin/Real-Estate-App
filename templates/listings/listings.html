{% extends "base.html" %}
{% load humanize%}
{% load static %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
{{% block content %}

            <!-- ##### Advance Search Area Start ##### -->
            <div class="south-search-area">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="advanced-search-form">
                                <!-- Search Title -->
                                <div class="search-title">
                                    <p>Search for your home</p>
                                </div>
                                <!-- Search Form -->
                                <form action="#" method="post" id="advanceSearch">
                                  {% csrf_token %}
                                    <div class="row">

                                        <div class="col-12 col-md-4 col-lg-3">
                                            <div class="form-group">
                                                <input type="input" class="form-control" name="input" placeholder="Keyword">
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-4 col-lg-3">
                                            <div class="form-group">
                                                <select class="form-control" id="cities">
                                                  <option> state </option>
                                                  {% for key,value in state_choices.items %}
                                                      <option value="{{key}}">{{value}}</option>
                                                  {% endfor %}
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-4 col-lg-3">
                                            <div class="form-group">
                                                <select class="form-control" id="catagories">
                                                    <option>All Catagories</option>
                                                    <option>Apartment</option>
                                                    <option>Bar</option>
                                                    <option>Farm</option>
                                                    <option>House</option>
                                                    <option>Store</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-4 col-lg-3">
                                            <div class="form-group">
                                                <select class="form-control" id="offers">
                                                    <option>All Offers</option>
                                                    <option>100% OFF</option>
                                                    <option>75% OFF</option>
                                                    <option>50% OFF</option>
                                                    <option>25% OFF</option>
                                                    <option>10% OFF</option>
                                                </select>
                                            </div>
                                        </div>                              

                                        <div class="col-12 col-md-4 col-xl-2">
                                            <div class="form-group">
                                                <select class="form-control" id="bedrooms">
                                                    <option>Bedrooms</option>
                                                    {% for key,value in bedroom_choices.items %}
                                                        <option value="{{key}}">{{value}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-4 col-xl-2">
                                            <div class="form-group">
                                                <select class="form-control" id="bathrooms">
                                                    <option>Bathrooms</option>
                                                    <option>1</option>
                                                    <option>2</option>
                                                    <option>3</option>
                                                    <option>4</option>
                                                    <option>5+</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-8 col-lg-12 col-xl-5 d-flex">
                                            <!-- Space Range -->
                                            <div class="slider-range">
                                                <div data-min="120" data-max="820" data-unit=" sq. ft" class="slider-range-price ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" data-value-min="120" data-value-max="820">
                                                    <div class="ui-slider-range ui-widget-header ui-corner-all"></div>
                                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                                </div>
                                                <div class="range">120 sq. ft - 820 sq. ft</div>
                                            </div>

                                            <!-- Distance Range -->
                                            <div class="slider-range">
                                                <div data-min="10" data-max="1300" data-unit=" mil" class="slider-range-price ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" data-value-min="10" data-value-max="1300">
                                                    <div class="ui-slider-range ui-widget-header ui-corner-all"></div>
                                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0"></span>
                                                </div>
                                                <div class="range">10 mil - 1300 mil</div>
                                            </div>
                                        </div>

                                        <div class="col-12 search-form-second-steps">
                                            <div class="row">

                                                <div class="col-12 col-md-4 col-lg-3">
                                                    <div class="form-group">
                                                        <select class="form-control" id="types">
                                                            <option>All Types</option>
                                                            <option>Apartment <span>(30)</span></option>
                                                            <option>Land <span>(69)</span></option>
                                                            <option>Villas <span>(103)</span></option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-4 col-lg-3">
                                                    <div class="form-group">
                                                        <select class="form-control" id="catagories2">
                                                            <option>All Catagories</option>
                                                            <option>Apartment</option>
                                                            <option>Bar</option>
                                                            <option>Farm</option>
                                                            <option>House</option>
                                                            <option>Store</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-4 col-lg-3">
                                                    <div class="form-group">
                                                        <select class="form-control" id="Actions">
                                                            <option>All Actions</option>
                                                            <option>Sales</option>
                                                            <option>Booking</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-4 col-lg-3">
                                                    <div class="form-group">
                                                        <select class="form-control" id="city2">
                                                            <option>All City</option>
                                                            <option>City 1</option>
                                                            <option>City 2</option>
                                                            <option>City 3</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-4">
                                                    <div class="form-group">
                                                        <select class="form-control" id="Actions3">
                                                            <option>All Actions</option>
                                                            <option>Sales</option>
                                                            <option>Booking</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-4">
                                                    <div class="form-group">
                                                        <select class="form-control" id="city3">
                                                            <option>All City</option>
                                                            <option>City 1</option>
                                                            <option>City 2</option>
                                                            <option>City 3</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-4">
                                                    <div class="form-group">
                                                        <select class="form-control" id="city5">
                                                            <option>All City</option>
                                                            <option>City 1</option>
                                                            <option>City 2</option>
                                                            <option>City 3</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12 d-flex justify-content-between align-items-end">
                                            <!-- More Filter -->
                                            <div class="more-filter">
                                                <a href="#" id="moreFilter">+ More filters</a>
                                            </div>
                                            <!-- Submit -->
                                            <div class="form-group mb-0">
                                                <button type="submit" class="btn south-btn">Search</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ##### Advance Search Area End ##### -->
              <!-- ##### Listing Content Wrapper Area Start ##### -->
              <section class="listings-content-wrapper section-padding-100">
              <div class="container">
              <div class="row">
              <div class="col-12">
              <div class="listings-top-meta d-flex justify-content-between mb-100">
                  <div class="view-area d-flex align-items-center">
                      <span>View as:</span>
                      <div class="grid_view ml-15"><a href="#" class="active"><i class="fa fa-th" aria-hidden="true"></i></a></div>
                      <div class="list_view ml-15"><a href="#"><i class="fa fa-th-list" aria-hidden="true"></i></a></div>
                  </div>
                  <div class="order-by-area d-flex align-items-center">
                      <span class="mr-15">Order by:</span>
                      <select>
                        <option selected>Default</option>
                        <option value="1">Newest</option>
                        <option value="2">Sales</option>
                        <option value="3">Ratings</option>
                        <option value="3">Popularity</option>
                      </select>
                  </div>
              </div>
              </div>
              </div>

              {% if listings %}
              {% for listing in listings %}

              {% if forloop.counter0|divisibleby:3 %}<div class="row">{% endif %}

              <!-- Single Featured Property -->

                <div class="col-x-6 col-md-4">
                  <div class="single-featured-property mb-50">
                  <!-- Property Thumbnail -->
                  <div class="property-thumb">
                      <img src="{{listing.photo_main.url}}" alt="">
                      <div class="tag">
                        <span>For Sale</span>
                      </div>
                      <div class="list-price">
                          <p>₹{{listing.price | intcomma}}</p>
                      </div>
                  </div>
                  <!-- Property Content -->
                  <div class="property-content">
                      <a href="{% url 'listing' listing.id %}">
                        <h5>{{listing.title}}</h5>
                      </a>
                      <p class="location"><img src="{% static 'img/icons/location.png'%}" alt="">{{listing.adderss}}</p>
                      {# <p>{{listing.description}}</p> #}
                      <div class="property-meta-data d-flex align-items-end justify-content-between">
                          <div class="new-tag">
                              <img src="{% static 'img/icons/new.png'%}" alt="">
                          </div>
                          <div class="bathroom">
                              <img src="{% static 'img/icons/bathtub.png'%}" alt="">
                              <span>{{listing.bathrooms}}</span>
                          </div>
                          <div class="garage">

                              {# <img src="{% static 'img/icons/garage.png'%}" alt=""> #}
                              <span>{{listing.garage}}</span>
                          </div>
                          <div class="space">
                              <img src="{% static 'img/icons/space.png'%}" alt="">
                              <span>{{listing.sqft}} sq ft</span>
                          </div>
                      </div>
                  </div>
              </div>
              </div>
              {% endfor %}
              </div>

              {% endif %}

                <div class="row">
                  <div class="col-12">
                      <div class="south-pagination d-flex justify-content-end">
                          <nav aria-label="Page navigation">
                            {% if listings.has_other_pages %}
                              <ul class="pagination">
                                {% if listings.has_previous %}
                                  <li class="page-item"><a class="page-link" href="?page={{listings.previous_page_number}}">&laquo;</a></li>
                                {% else %}
                                  <li class="page-item"><a class="page-link disabled">&laquo;</a></li>
                                {% endif %}
                                {% for i in listings.paginator.page_range %}
                                  {% if listings.number == i %}
                                        <li class="page-item"><a class="page-link active" >{{i}}</a></li>
                                  {% else %}
                                        <li class="page-item"><a class="page-link" href="?page={{i}}">{{i}}</a></li>
                                  {% endif %}
                                {% endfor %}
                                {% if listings.has_next %}
                                  <li class="page-item"><a class="page-link" href="?page={{listings.next_page_number}}">&raquo;</a></li>
                                {% else %}
                                  <li class="page-item"><a class="page-link disabled">&raquo;</a></li>
                                {% endif %}

                                  {# <li class="page-item"><a class="page-link active" href="#">01</a></li> #}
                                  {# <li class="page-item"><a class="page-link" href="#">02</a></li> #}
                                  {# <li class="page-item"><a class="page-link" href="#">03</a></li> #}
                              </ul>
                            {% endif %}
                          </nav>
                      </div>
                  </div>
              </div>
              </div>
              </section>
              <!-- ##### Listing Content Wrapper Area End ##### -->
{% endblock %}}
